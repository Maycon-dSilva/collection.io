<!DOCTYPE html>
<html lang="pt-Br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Isabelle & Maycon</title>
    <link rel="stylesheet" href="src/styles/index.css">
    <link rel="stylesheet" href="src/styles/collection.css">
    <link rel="icon" href="src/favicon.ico">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Lora:ital,wght@0,400..700;1,400..700&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

</head>
<body>
    <div id="render-app"></div>

    <script>
        const cardMessage = document.createElement("div");
        cardMessage.id = "cardMessage";

        const cardImg = document.createElement("img");
        cardImg.id = "cardImg";
        cardImg.src = "src/img/profile.jpg";
        cardImg.alt = "Isabelle & Maycon photographic";
        cardMessage.appendChild(cardImg);

        const cardTitle = document.createElement("h1");
        cardTitle.id = "cardTitle";
        cardTitle.textContent = "Finalmente nossa hora chegou!";
        cardMessage.appendChild(cardTitle);
        
        const cardText = document.createElement("p");
        cardText.id = "cardText";
        cardText.textContent = "Poder ter um cantinho para chamar de seu é uma prioridade para toda família, assim como para nós." +  
        " E é com imenso prazer que compartilhamos essa conquista com cada um de vocês, queridos amigos." + 
        " Conforme sempre estiveram juntinhos de nós ao decorrer desta nossa história, gostariamos de continuar essa longa caminhada, com a sua ajuda.";
        cardMessage.appendChild(cardText);


        const btn_Collection = document.createElement("input");
        btn_Collection.id = "btn-collection";
        btn_Collection.type = "button";
        btn_Collection.value = "Contribuir";
        btn_Collection.addEventListener("click", collectionPage);
        cardMessage.appendChild(btn_Collection);
        
        const containerCard = document.getElementById("render-app");
        containerCard.appendChild(cardMessage);


        function collectionPage(){
            cardMessage.remove();
            
            const collectioPage = document.createElement("div");
            collectioPage.id = "collectionPage";

            const qrElement = document.createElement("div");
            qrElement.id = "qrElement";
            collectioPage.appendChild(qrElement);

            const cardImag = document.createElement("img");
            cardImag.src = "src/img/img.jpg";
            cardImag.alt = "Isabelle & Maycon photographic";
            cardImag.id = "cardImag";
            qrElement.appendChild(cardImag);

            const imgQrcode = document.createElement("img");
            imgQrcode.id = "imgQrcode";
            imgQrcode.src = "src/img/qrcode.jpg";
            qrElement.appendChild(imgQrcode);

            const pixElement = document.createElement("div");
            pixElement.id = "pixElement";
            collectioPage.appendChild(pixElement);

            const pixCopy = document.createElement("input");
            pixCopy.id = "pixCopyArea";
            pixCopy.type = "textarea";
            pixCopy.value = "00020101021126580014br.gov.bcb.pix0136d8fa1e73-964b-4768-9815-5525a02ba8d65204000053039865802BR5921MAYCON D DE O C SILVA6005MACAE62070503***630425D0";
            pixElement.appendChild(pixCopy);
            
            const btn_copy = document.createElement("input");
            btn_copy.id = "btn-copy";
            btn_copy.type = "button";
            btn_copy.value = "Copiar";
            btn_copy.addEventListener("click", copyElement);
            pixElement.appendChild(btn_copy);

            const btn_return = document.createElement("input");
            btn_return.id = "btn-return";
            btn_return.type = "button";
            btn_return.value = "Retornar";
            btn_return.addEventListener("click", reloadPage);
            collectioPage.appendChild(btn_return);

            const containerPage = document.getElementById("render-app");
            containerPage.appendChild(collectioPage);
        }

        function reloadPage(){
            window.location.reload();
        }

        function copyElement(){
           const copyText = document.getElementById("pixCopyArea");
           copyText.select();
           document.execCommand("copy");
           console.log("texto copiado");
           const alter = document.getElementById("btn-copy").value = "Copiado";
           const alterStyle = document.getElementById("btn-copy").style.backgroundColor = "#BDF24B";
        }
    </script>
